{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport contract from \"../contracts/bithuabi.json\";\nimport { ethers } from \"ethers\";\nimport { isMetaMaskInstalled, ethereum } from \"../config\";\nexport const mint = async mint_amount => {\n  _s();\n\n  useEffect(() => {\n    const fetchWallet = async () => {\n      const provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n      await provider.send(\"eth_requestAccounts\", []);\n      const signed = provider.getSigner();\n      setSigner(signed);\n      console.log(signed);\n    };\n\n    fetchWallet();\n  }, []);\n\n  if (isMetaMaskInstalled()) {\n    console.log(\"hi there\");\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    console.log(provider);\n\n    const mint = async () => {\n      const metadata = \"ipfs://bafyreiatv2m3rs4qbu43hu2jqfdzqem6acirj3k7l5ihpvsvrtsajo65yi/metadata.json\";\n      const user = await signer.getAddress();\n      const address = \"0x6A2627208f11bcc61fF1bcd54811A99c0090DEBB\";\n      let contract = new ethers.Contract(address, NFT.abi, signer);\n      let transaction = await contract.mint(user, metadata).wait;\n      let tx = await transaction.wait();\n      const receipt = await tx.wait();\n    }; // const signer = provider.getSigner();\n    // const contractAddress = \"0x33BFc30CB6c0AB4e863bAf6C85a1F292aB7b7795\";\n    // const nftContract = new ethers.Contract(contractAddress, contract, signer);\n    // let txnHash = await nftContract.mint(\n    //   ethereum.selectedAddress,\n    //   mint_amount,\n    //   {\n    //     gasLimit: \"285000\",\n    //     value: ethers.utils.parseEther((0.03 * mint_amount).toString()),\n    //   }\n    // );\n    // return txnHash;\n\n  }\n};\n\n_s(mint, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\nexport const totalMintCount = async () => {\n  if (isMetaMaskInstalled()) {\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    const signer = provider.getSigner();\n    const contractAddress = \"0x9FD56e423c9f0C01D4d011ad30860962ddaeA51D\";\n    const nftContract = new ethers.Contract(contractAddress, contract, signer);\n    let totalMint = await nftContract.count();\n    return totalMint;\n  }\n};","map":{"version":3,"names":["contract","ethers","isMetaMaskInstalled","ethereum","mint","mint_amount","useEffect","fetchWallet","provider","providers","Web3Provider","window","send","signed","getSigner","setSigner","console","log","metadata","user","signer","getAddress","address","Contract","NFT","abi","transaction","wait","tx","receipt","totalMintCount","contractAddress","nftContract","totalMint","count"],"sources":["C:/Users/HP/Desktop/Matt/nft/bithu_main_files/bithu_v1.0/src/utils/web3mint.js"],"sourcesContent":["import contract from \"../contracts/bithuabi.json\";\nimport { ethers } from \"ethers\";\nimport { isMetaMaskInstalled, ethereum } from \"../config\";\n\nexport const mint = async (mint_amount) => {\n  useEffect(() => {\n    const fetchWallet = async () => {\n      const provider = new ethers.providers.Web3Provider(\n        window.ethereum,\n        \"any\"\n      );\n      await provider.send(\"eth_requestAccounts\", []);\n      const signed = provider.getSigner();\n      setSigner(signed);\n      console.log(signed);\n    };\n\n    fetchWallet();\n  }, []);\n  if (isMetaMaskInstalled()) {\n    console.log(\"hi there\");\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    console.log(provider);\n    const mint = async () => {\n      const metadata = \"ipfs://bafyreiatv2m3rs4qbu43hu2jqfdzqem6acirj3k7l5ihpvsvrtsajo65yi/metadata.json\";\n      const user = await signer.getAddress();\n      const address = \"0x6A2627208f11bcc61fF1bcd54811A99c0090DEBB\";\n      let contract = new ethers.Contract(address, NFT.abi, signer);\n      let transaction = await contract.mint(user, metadata).wait;\n      let tx = await transaction.wait();\n      const receipt = await tx.wait();\n  };\n    // const signer = provider.getSigner();\n    // const contractAddress = \"0x33BFc30CB6c0AB4e863bAf6C85a1F292aB7b7795\";\n    // const nftContract = new ethers.Contract(contractAddress, contract, signer);\n    // let txnHash = await nftContract.mint(\n    //   ethereum.selectedAddress,\n    //   mint_amount,\n    //   {\n    //     gasLimit: \"285000\",\n    //     value: ethers.utils.parseEther((0.03 * mint_amount).toString()),\n    //   }\n    // );\n    // return txnHash;\n  }\n};\n\nexport const totalMintCount = async () => {\n  if (isMetaMaskInstalled()) {\n    const provider = new ethers.providers.Web3Provider(ethereum);\n    const signer = provider.getSigner();\n    const contractAddress = \"0x9FD56e423c9f0C01D4d011ad30860962ddaeA51D\";\n    const nftContract = new ethers.Contract(contractAddress, contract, signer);\n\n    let totalMint = await nftContract.count();\n\n    return totalMint;\n  }\n};\n"],"mappings":";;AAAA,OAAOA,QAAP,MAAqB,4BAArB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,SAASC,mBAAT,EAA8BC,QAA9B,QAA8C,WAA9C;AAEA,OAAO,MAAMC,IAAI,GAAG,MAAOC,WAAP,IAAuB;EAAA;;EACzCC,SAAS,CAAC,MAAM;IACd,MAAMC,WAAW,GAAG,YAAY;MAC9B,MAAMC,QAAQ,GAAG,IAAIP,MAAM,CAACQ,SAAP,CAAiBC,YAArB,CACfC,MAAM,CAACR,QADQ,EAEf,KAFe,CAAjB;MAIA,MAAMK,QAAQ,CAACI,IAAT,CAAc,qBAAd,EAAqC,EAArC,CAAN;MACA,MAAMC,MAAM,GAAGL,QAAQ,CAACM,SAAT,EAAf;MACAC,SAAS,CAACF,MAAD,CAAT;MACAG,OAAO,CAACC,GAAR,CAAYJ,MAAZ;IACD,CATD;;IAWAN,WAAW;EACZ,CAbQ,EAaN,EAbM,CAAT;;EAcA,IAAIL,mBAAmB,EAAvB,EAA2B;IACzBc,OAAO,CAACC,GAAR,CAAY,UAAZ;IACA,MAAMT,QAAQ,GAAG,IAAIP,MAAM,CAACQ,SAAP,CAAiBC,YAArB,CAAkCP,QAAlC,CAAjB;IACAa,OAAO,CAACC,GAAR,CAAYT,QAAZ;;IACA,MAAMJ,IAAI,GAAG,YAAY;MACvB,MAAMc,QAAQ,GAAG,kFAAjB;MACA,MAAMC,IAAI,GAAG,MAAMC,MAAM,CAACC,UAAP,EAAnB;MACA,MAAMC,OAAO,GAAG,4CAAhB;MACA,IAAItB,QAAQ,GAAG,IAAIC,MAAM,CAACsB,QAAX,CAAoBD,OAApB,EAA6BE,GAAG,CAACC,GAAjC,EAAsCL,MAAtC,CAAf;MACA,IAAIM,WAAW,GAAG,MAAM1B,QAAQ,CAACI,IAAT,CAAce,IAAd,EAAoBD,QAApB,EAA8BS,IAAtD;MACA,IAAIC,EAAE,GAAG,MAAMF,WAAW,CAACC,IAAZ,EAAf;MACA,MAAME,OAAO,GAAG,MAAMD,EAAE,CAACD,IAAH,EAAtB;IACH,CARC,CAJyB,CAazB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;;EACD;AACF,CAzCM;;GAAMvB,I;;AA2Cb,OAAO,MAAM0B,cAAc,GAAG,YAAY;EACxC,IAAI5B,mBAAmB,EAAvB,EAA2B;IACzB,MAAMM,QAAQ,GAAG,IAAIP,MAAM,CAACQ,SAAP,CAAiBC,YAArB,CAAkCP,QAAlC,CAAjB;IACA,MAAMiB,MAAM,GAAGZ,QAAQ,CAACM,SAAT,EAAf;IACA,MAAMiB,eAAe,GAAG,4CAAxB;IACA,MAAMC,WAAW,GAAG,IAAI/B,MAAM,CAACsB,QAAX,CAAoBQ,eAApB,EAAqC/B,QAArC,EAA+CoB,MAA/C,CAApB;IAEA,IAAIa,SAAS,GAAG,MAAMD,WAAW,CAACE,KAAZ,EAAtB;IAEA,OAAOD,SAAP;EACD;AACF,CAXM"},"metadata":{},"sourceType":"module"}